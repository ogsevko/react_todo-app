(this["webpackJsonpreact_todo-app"]=this["webpackJsonpreact_todo-app"]||[]).push([[0],{12:function(e,t,n){e.exports=n(22)},17:function(e,t,n){},18:function(e,t,n){},22:function(e,t,n){"use strict";n.r(t);var o=n(0),a=n.n(o),l=n(10),i=n.n(l),c=(n(17),n(18),n(7)),s=n(6),d=n(2),r=n(3),u=n(5),p=n(4),m=n(1),h=n.n(m),f=n(8),S=n.n(f),g=(S.a.shape({id:S.a.string.isRequired,title:S.a.string.isRequired,completed:S.a.bool.isRequired}),function(e){Object(u.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(d.a)(this,n);for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return(e=t.call.apply(t,[this].concat(a))).state={todoTitle:"",isTitleValid:!0,isEditing:!1},e.handleDoubleClick=function(t){e.setState((function(e){return{isEditing:!e.isEditing,todoTitle:t}}))},e.handleChange=function(t){e.setState({todoTitle:t.target.value.replace(/[^\s\w]/g,""),isTitleValid:!0})},e.handleKeyPress=function(t,n){if("Enter"===t.key){t.preventDefault();var o=e.props.saveEditedTodo;0===e.state.todoTitle.replace(/\s+/g,"").length&&e.setState({isTitleValid:!1}),e.state.isTitleValid&&(o({id:n,title:e.state.todoTitle,completed:!1}),e.setState({todoTitle:"",isEditing:!1}))}},e.handleKeyDown=function(t){"Escape"===t.key&&e.setState({isEditing:!1})},e}return Object(r.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.todo,o=t.onCheck,l=t.onDelete;return a.a.createElement("li",{className:h()({completed:n.completed},{editing:this.state.isEditing})},a.a.createElement("div",{className:"view"},a.a.createElement("input",{type:"checkbox",className:"toggle",id:n.id,checked:n.completed,onChange:function(){return o(n.id)}}),a.a.createElement("label",{onDoubleClick:function(){return e.handleDoubleClick(n.title)}},n.title),a.a.createElement("button",{type:"button",className:"destroy",onClick:function(){return l(n.id)}})),this.state.isEditing?a.a.createElement("input",{type:"text",value:this.state.todoTitle,className:h()({edit:this.state.isEditing}),onChange:function(t){return e.handleChange(t)},onKeyPress:function(t){return e.handleKeyPress(t,n.id)},onKeyDown:function(t){return e.handleKeyDown(t)},ref:function(e){return e&&e.focus()}}):a.a.createElement("span",null))}}]),n}(a.a.Component)),v=function(e){var t=e.todos,n=e.handleCheck,o=e.handleDelete,l=e.saveEditedTodo;return a.a.createElement("ul",{className:"todo-list"},t.map((function(e){return a.a.createElement(g,{key:e.id,todo:e,onCheck:n,onDelete:o,saveEditedTodo:l})})))};v.defaultProps={todos:[]};var b=n(11),k=function(e){Object(u.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(d.a)(this,n);for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return(e=t.call.apply(t,[this].concat(a))).state={todoTitle:"",isTitleValid:!0},e.handleChange=function(t){e.setState({todoTitle:t.target.value.replace(/[^\s\w]/g,""),isTitleValid:!0})},e.handleKeyPress=function(t){if("Enter"===t.key){t.preventDefault();var n=e.props.addNewTodo,o=Object(b.uuid)();0===e.state.todoTitle.replace(/\s+/g,"").length&&e.setState({isTitleValid:!1}),e.state.isTitleValid&&(n({id:o,title:e.state.todoTitle,completed:!1}),e.setState({todoTitle:""}))}},e}return Object(r.a)(n,[{key:"render",value:function(){var e=this;return a.a.createElement("input",{type:"text",className:"new-todo",placeholder:"What needs to be done?",value:this.state.todoTitle,onChange:function(t){return e.handleChange(t)},onKeyPress:function(t){return e.handleKeyPress(t)}})}}]),n}(a.a.Component),E=function(e){var t=e.todoLength;return a.a.createElement("span",{className:"todo-count"},"".concat(t," ").concat(1===t?"item":"items"," left"))},C=function(e){var t=e.handleFilter,n=e.handleFilterAll,o=e.isAllSelected,l=e.isActiveSelected,i=e.isCompletedSelected;return a.a.createElement("ul",{className:"filters"},a.a.createElement("li",null,a.a.createElement("button",{type:"button",className:h()({selected:o}),onClick:n},"All")),a.a.createElement("li",null,a.a.createElement("button",{type:"button",className:h()({selected:l}),onClick:function(e){return t((function(e){return!e.completed}),e)}},"Active")),a.a.createElement("li",null,a.a.createElement("button",{type:"button",className:h()({selected:i}),onClick:function(e){return t((function(e){return e.completed}),e)}},"Completed")))},T=function(e){Object(u.a)(n,e);var t=Object(p.a)(n);function n(e){var o;return Object(d.a)(this,n),(o=t.call(this,e)).backupTodos=function(){o.todosBackUp=Object(s.a)(o.state.todos)},o.addNewTodo=function(e){o.state.isCompletedSelected?o.todosBackUp=[].concat(Object(s.a)(o.todosBackUp),[e]):o.setState((function(t){return{todos:[].concat(Object(s.a)(t.todos),[e])}}),(function(){return o.backupTodos()}))},o.handleCheck=function(e){o.setState((function(t){return{todos:t.todos.map((function(t){var n=Object(c.a)({},t);return t.id===e&&(n.completed=!t.completed),n}))}}),(function(){return o.backupTodos()}))},o.handleDelete=function(e){o.setState((function(t){return{todos:t.todos.filter((function(t){return t.id!==e}))}}),(function(){return o.backupTodos()}))},o.toggleAll=function(){o.state.todos.every((function(e){return!0===e.completed}))?o.setState((function(e){return{todos:e.todos.map((function(e){var t=Object(c.a)({},e);return t.completed=!1,t}))}}),(function(){return o.backupTodos()})):o.setState((function(e){return{todos:e.todos.map((function(e){var t=Object(c.a)({},e);return t.completed||(t.completed=!0),t}))}}),(function(){return o.backupTodos()}))},o.clearCompleted=function(){o.state.isCompletedSelected?o.setState((function(e){return{todos:e.todos.filter((function(e){return!e.completed}))}}),(function(){o.todosBackUp=o.todosBackUp.filter((function(e){return!e.completed}))})):o.setState((function(e){return{todos:e.todos.filter((function(e){return!e.completed}))}}),(function(){return o.backupTodos()}))},o.handleFilter=function(e,t){"Active"===t.target.innerHTML?o.setState({todos:o.todosBackUp.filter(e),isAllSelected:!1,isActiveSelected:!0,isCompletedSelected:!1}):"Completed"===t.target.innerHTML&&o.setState({todos:o.todosBackUp.filter(e),isAllSelected:!1,isActiveSelected:!1,isCompletedSelected:!0})},o.handleFilterAll=function(){o.setState({todos:Object(s.a)(o.todosBackUp),isAllSelected:!0,isActiveSelected:!1,isCompletedSelected:!1})},o.saveEditedTodo=function(e){o.setState((function(t){return{todos:t.todos.map((function(t){var n=Object(c.a)({},t);return n.id===e.id&&(n=Object(c.a)({},e)),n}))}}),(function(){return o.backupTodos()}))},o.todosBackUp=[],o.state={todos:[],isAllSelected:!0,isActiveSelected:!1,isCompletedSelected:!1},o}return Object(r.a)(n,[{key:"componentDidMount",value:function(){var e=null!==localStorage.getItem("state")?JSON.parse(localStorage.getItem("state")).todos:[];this.todosBackUp=e,this.setState({todos:e})}},{key:"componentDidUpdate",value:function(){if(this.state.isCompletedSelected){var e={todos:Object(s.a)(this.todosBackUp),isAllSelected:this.state.isAllSelected,isActiveSelected:this.state.isActiveSelected,isCompletedSelected:this.state.isCompletedSelected};localStorage.setItem("state",JSON.stringify(e))}else localStorage.setItem("state",JSON.stringify(this.state))}},{key:"render",value:function(){return a.a.createElement("section",{className:"todoapp"},a.a.createElement("header",{className:"header"},a.a.createElement("h1",null,"todos"),a.a.createElement(k,{addNewTodo:this.addNewTodo})),a.a.createElement("section",{className:"main"},a.a.createElement("input",{type:"checkbox",id:"toggle-all",className:"toggle-all",onChange:this.toggleAll}),a.a.createElement("label",{htmlFor:"toggle-all"},"Mark all as complete"),a.a.createElement(v,{todos:this.state.todos,handleCheck:this.handleCheck,handleDelete:this.handleDelete,saveEditedTodo:this.saveEditedTodo})),a.a.createElement("footer",{className:"footer"},a.a.createElement(E,{todoLength:this.state.isCompletedSelected?this.todosBackUp.filter((function(e){return!e.completed})).length||0:this.state.todos.filter((function(e){return!e.completed})).length||0}),a.a.createElement(C,{handleFilter:this.handleFilter,handleFilterAll:this.handleFilterAll,isAllSelected:this.state.isAllSelected,isActiveSelected:this.state.isActiveSelected,isCompletedSelected:this.state.isCompletedSelected}),a.a.createElement("button",{type:"button",className:"clear-completed",onClick:this.clearCompleted},"Clear completed")))}}]),n}(a.a.Component);i.a.render(a.a.createElement(T,null),document.getElementById("root"))}},[[12,1,2]]]);
//# sourceMappingURL=main.4e70df5c.chunk.js.map