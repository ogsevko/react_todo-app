(this["webpackJsonpreact_todo-app"]=this["webpackJsonpreact_todo-app"]||[]).push([[0],{12:function(e,t,a){e.exports=a(22)},17:function(e,t,a){},18:function(e,t,a){},22:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),o=a(10),i=a.n(o),s=(a(17),a(18),a(6)),c=a(8),r=a(2),d=a(3),u=a(5),m=a(4),p=a(1),f=a.n(p),h=a(7),S=a.n(h),g=(S.a.shape({id:S.a.string.isRequired,title:S.a.string.isRequired,completed:S.a.bool.isRequired}),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(e=t.call.apply(t,[this].concat(l))).state={todoTitle:"",isTitleValid:!0,isEditing:!1},e.handleDoubleClick=function(t){e.setState((function(e){return{isEditing:!e.isEditing,todoTitle:t}}))},e.handleChange=function(t){e.setState({todoTitle:t.target.value.replace(/[^\s\w]/g,""),isTitleValid:!0})},e.handleKeyPress=function(t,a){if("Enter"===t.key){t.preventDefault();var n=e.props.saveEditedTodo;0===e.state.todoTitle.replace(/\s+/g,"").length&&e.setState({isTitleValid:!1}),e.state.isTitleValid&&(n({id:a,title:e.state.todoTitle,completed:!1}),e.setState({todoTitle:"",isEditing:!1}))}},e.handleKeyDown=function(t){"Escape"===t.key&&e.setState({isEditing:!1})},e}return Object(d.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.todo,n=t.onCheck,o=t.onDelete;return l.a.createElement("li",{className:f()({completed:a.completed},{editing:this.state.isEditing})},l.a.createElement("div",{className:"view"},l.a.createElement("input",{type:"checkbox",className:"toggle",id:a.id,checked:a.completed,onChange:function(){return n(a.id)}}),l.a.createElement("label",{onDoubleClick:function(){return e.handleDoubleClick(a.title)}},a.title),l.a.createElement("button",{type:"button",className:"destroy",onClick:function(){return o(a.id)}})),this.state.isEditing?l.a.createElement("input",{type:"text",value:this.state.todoTitle,className:f()({edit:this.state.isEditing}),onChange:function(t){return e.handleChange(t)},onKeyPress:function(t){return e.handleKeyPress(t,a.id)},onKeyDown:function(t){return e.handleKeyDown(t)},ref:function(e){return e&&e.focus()}}):l.a.createElement("span",null))}}]),a}(l.a.Component)),v=function(e){var t=e.todos,a=e.handleCheck,n=e.handleDelete,o=e.saveEditedTodo;return l.a.createElement("ul",{className:"todo-list"},t.map((function(e){return l.a.createElement(g,{key:e.id,todo:e,onCheck:a,onDelete:n,saveEditedTodo:o})})))};v.defaultProps={todos:[]};var E=a(11),y=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(e=t.call.apply(t,[this].concat(l))).state={todoTitle:"",isTitleValid:!0},e.handleChange=function(t){e.setState({todoTitle:t.target.value.replace(/[^\s\w]/g,""),isTitleValid:!0})},e.handleKeyPress=function(t){if("Enter"===t.key){t.preventDefault();var a=e.props.addNewTodo,n=Object(E.uuid)();0===e.state.todoTitle.replace(/\s+/g,"").length&&e.setState({isTitleValid:!1}),e.state.isTitleValid&&(a({id:n,title:e.state.todoTitle,completed:!1}),e.setState({todoTitle:""}))}},e}return Object(d.a)(a,[{key:"render",value:function(){var e=this;return l.a.createElement("input",{type:"text",className:"new-todo",placeholder:"What needs to be done?",value:this.state.todoTitle,onChange:function(t){return e.handleChange(t)},onKeyPress:function(t){return e.handleKeyPress(t)}})}}]),a}(l.a.Component),C=function(e){var t=e.todoLength;return l.a.createElement("span",{className:"todo-count"},"".concat(t," ").concat(1===t?"item":"items"," left"))},b=function(e){var t=e.handleFilter,a=e.handleFilterAll,n=e.isAllSelected,o=e.isActiveSelected,i=e.isCompletedSelected;return l.a.createElement("ul",{className:"filters"},l.a.createElement("li",null,l.a.createElement("button",{type:"button",className:f()({selected:n}),onClick:a},"All")),l.a.createElement("li",null,l.a.createElement("button",{type:"button",className:f()({selected:o}),onClick:function(e){return t((function(e){return!e.completed}),e)}},"Active")),l.a.createElement("li",null,l.a.createElement("button",{type:"button",className:f()({selected:i}),onClick:function(e){return t((function(e){return e.completed}),e)}},"Completed")))},N=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(e=t.call.apply(t,[this].concat(l))).state={todos:[],isAllSelected:!0,isActiveSelected:!1,isCompletedSelected:!1},e.addNewTodo=function(t){var a={todos:[].concat(Object(c.a)(JSON.parse(localStorage.getItem("state")).todos),[t]),isAllSelected:e.state.isAllSelected,isActiveSelected:e.state.isActiveSelected,isCompletedSelected:e.state.isCompletedSelected};e.state.isCompletedSelected?localStorage.setItem("state",JSON.stringify(a)):e.setState((function(e){return{todos:[].concat(Object(c.a)(e.todos),[t])}}),(function(){return localStorage.setItem("state",JSON.stringify(e.state))}))},e.handleCheck=function(t){e.setState((function(e){return{todos:e.todos.map((function(e){var a=Object(s.a)({},e);return e.id===t&&(a.completed=!e.completed),a}))}}),(function(){return localStorage.setItem("state",JSON.stringify(e.state))}))},e.handleDelete=function(t){e.setState((function(e){return{todos:e.todos.filter((function(e){return e.id!==t}))}}),(function(){return localStorage.setItem("state",JSON.stringify(e.state))}))},e.toggleAll=function(){e.state.todos.every((function(e){return!0===e.completed}))?e.setState((function(e){return{todos:e.todos.map((function(e){var t=Object(s.a)({},e);return t.completed=!1,t}))}}),(function(){return localStorage.setItem("state",JSON.stringify(e.state))})):e.setState((function(e){return{todos:e.todos.map((function(e){var t=Object(s.a)({},e);return t.completed||(t.completed=!0),t}))}}),(function(){return localStorage.setItem("state",JSON.stringify(e.state))}))},e.clearCompleted=function(){var t={todos:JSON.parse(localStorage.getItem("state")).todos.filter((function(e){return!e.completed})),isAllSelected:e.state.isAllSelected,isActiveSelected:e.state.isActiveSelected,isCompletedSelected:e.state.isCompletedSelected};e.setState({todos:[]},(function(){return localStorage.setItem("state",JSON.stringify(t))}))},e.handleFilter=function(t,a){"Active"===a.target.innerHTML?e.setState({todos:JSON.parse(localStorage.getItem("state")).todos.filter(t),isAllSelected:!1,isActiveSelected:!0,isCompletedSelected:!1}):"Completed"===a.target.innerHTML&&e.setState({todos:JSON.parse(localStorage.getItem("state")).todos.filter(t),isAllSelected:!1,isActiveSelected:!1,isCompletedSelected:!0})},e.handleFilterAll=function(){e.setState({todos:JSON.parse(localStorage.getItem("state")).todos,isAllSelected:!0,isActiveSelected:!1,isCompletedSelected:!1})},e.saveEditedTodo=function(t){e.setState((function(e){return{todos:e.todos.map((function(e){var a=Object(s.a)({},e);return a.id===t.id&&(a=Object(s.a)({},t)),a}))}}),(function(){return localStorage.setItem("state",JSON.stringify(e.state))}))},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=null!==localStorage.getItem("state")?JSON.parse(localStorage.getItem("state")).todos:[];this.setState({todos:e})}},{key:"render",value:function(){return l.a.createElement("section",{className:"todoapp"},l.a.createElement("header",{className:"header"},l.a.createElement("h1",null,"todos"),l.a.createElement(y,{addNewTodo:this.addNewTodo})),l.a.createElement("section",{className:"main"},l.a.createElement("input",{type:"checkbox",id:"toggle-all",className:"toggle-all",onChange:this.toggleAll}),l.a.createElement("label",{htmlFor:"toggle-all"},"Mark all as complete"),l.a.createElement(v,{todos:this.state.todos,handleCheck:this.handleCheck,handleDelete:this.handleDelete,saveEditedTodo:this.saveEditedTodo})),l.a.createElement("footer",{className:"footer"},l.a.createElement(C,{todoLength:this.state.todos?JSON.parse(localStorage.getItem("state")).todos.filter((function(e){return!e.completed})).length:0}),l.a.createElement(b,{handleFilter:this.handleFilter,handleFilterAll:this.handleFilterAll,isAllSelected:this.state.isAllSelected,isActiveSelected:this.state.isActiveSelected,isCompletedSelected:this.state.isCompletedSelected}),l.a.createElement("button",{type:"button",className:"clear-completed",onClick:this.clearCompleted},"Clear completed")))}}]),a}(l.a.Component);i.a.render(l.a.createElement(N,null),document.getElementById("root"))}},[[12,1,2]]]);
//# sourceMappingURL=main.fb996259.chunk.js.map