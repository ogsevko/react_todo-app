(this["webpackJsonpreact_todo-app"]=this["webpackJsonpreact_todo-app"]||[]).push([[0],{12:function(e,t,o){e.exports=o(22)},17:function(e,t,o){},18:function(e,t,o){},22:function(e,t,o){"use strict";o.r(t);var n=o(0),a=o.n(n),l=o(10),c=o.n(l),i=(o(17),o(18),o(1)),s=o(7),d=o(3),r=o(4),u=o(6),p=o(5),m=o(2),f=o.n(m),h=o(8),g=o.n(h),k=(g.a.shape({id:g.a.string.isRequired,title:g.a.string.isRequired,completed:g.a.bool.isRequired}),function(e){Object(u.a)(o,e);var t=Object(p.a)(o);function o(){var e;Object(d.a)(this,o);for(var n=arguments.length,a=new Array(n),l=0;l<n;l++)a[l]=arguments[l];return(e=t.call.apply(t,[this].concat(a))).state={todoTitle:"",isEditing:!1},e.handleDoubleClick=function(t){e.setState((function(e){return{isEditing:!e.isEditing,todoTitle:t}}))},e.handleChange=function(t){e.setState({todoTitle:t.target.value})},e.handleKeyPress=function(t,o){if("Enter"===t.key){t.preventDefault();var n=e.props.saveEditedTodo;0!==e.state.todoTitle.replace(/\s+/g,"").length&&(n({id:o,title:e.state.todoTitle,completed:!1}),e.setState({todoTitle:"",isEditing:!1}))}},e.handleKeyDown=function(t){"Escape"===t.key&&e.setState({isEditing:!1})},e}return Object(r.a)(o,[{key:"render",value:function(){var e=this,t=this.props,o=t.todo,n=t.onCheck,l=t.onDelete;return a.a.createElement("li",{className:f()({completed:o.completed},{editing:this.state.isEditing})},a.a.createElement("div",{className:"view"},a.a.createElement("input",{type:"checkbox",className:"toggle",id:o.id,checked:o.completed,onChange:function(){return n(o.id)}}),a.a.createElement("label",{onDoubleClick:function(){return e.handleDoubleClick(o.title)}},o.title),a.a.createElement("button",{type:"button",className:"destroy",onClick:function(){return l(o.id)}})),this.state.isEditing?a.a.createElement("input",{type:"text",value:this.state.todoTitle,className:f()({edit:this.state.isEditing}),onChange:function(t){return e.handleChange(t)},onKeyPress:function(t){return e.handleKeyPress(t,o.id)},onKeyDown:function(t){return e.handleKeyDown(t)},ref:function(e){return e&&e.focus()}}):a.a.createElement("span",null))}}]),o}(a.a.Component)),b=function(e){var t=e.todos,o=e.handleCheck,n=e.handleDelete,l=e.saveEditedTodo;return a.a.createElement("ul",{className:"todo-list"},t.map((function(e){return a.a.createElement(k,{key:e.id,todo:e,onCheck:o,onDelete:n,saveEditedTodo:l})})))};b.defaultProps={todos:[]};var v=o(11),S=function(e){Object(u.a)(o,e);var t=Object(p.a)(o);function o(){var e;Object(d.a)(this,o);for(var n=arguments.length,a=new Array(n),l=0;l<n;l++)a[l]=arguments[l];return(e=t.call.apply(t,[this].concat(a))).state={todoTitle:""},e.handleChange=function(t){e.setState({todoTitle:t.target.value})},e.handleKeyPress=function(t){if("Enter"===t.key){t.preventDefault();var o=e.props.addNewTodo,n=Object(v.uuid)();0!==e.state.todoTitle.replace(/\s+/g,"").length&&(o({id:n,title:e.state.todoTitle,completed:!1}),e.setState({todoTitle:""}))}},e}return Object(r.a)(o,[{key:"render",value:function(){var e=this;return a.a.createElement("input",{type:"text",className:"new-todo",placeholder:"What needs to be done?",value:this.state.todoTitle,onChange:function(t){return e.handleChange(t)},onKeyPress:function(t){return e.handleKeyPress(t)}})}}]),o}(a.a.Component),E=function(e){var t=e.todoLength;return a.a.createElement("span",{className:"todo-count"},"".concat(t," ").concat(1===t?"item":"items"," left"))},C=function(e){var t=e.handleFilter,o=e.handleFilterAll,n=e.isAllSelected,l=e.isActiveSelected,c=e.isCompletedSelected;return a.a.createElement("ul",{className:"filters"},a.a.createElement("li",null,a.a.createElement("button",{type:"button",className:f()({selected:n}),onClick:o},"All")),a.a.createElement("li",null,a.a.createElement("button",{type:"button",className:f()({selected:l}),onClick:function(e){return t((function(e){return!e.completed}),e)}},"Active")),a.a.createElement("li",null,a.a.createElement("button",{type:"button",className:f()({selected:c}),onClick:function(e){return t((function(e){return e.completed}),e)}},"Completed")))},y=function(e){Object(u.a)(o,e);var t=Object(p.a)(o);function o(e){var n;return Object(d.a)(this,o),(n=t.call(this,e)).backupTodos=function(){n.todosBackUp=Object(s.a)(n.state.todos)},n.backupCheck=function(e){n.todosBackUp=n.todosBackUp.map((function(t){var o=Object(i.a)({},t);return t.id===e&&(o.completed=!t.completed),o}))},n.backupToggleAll=function(){n.todosBackUp=n.todosBackUp.map((function(e){var t=Object(i.a)({},e);return t.completed=!1,t}))},n.backupToggle=function(){n.todosBackUp=n.todosBackUp.map((function(e){var t=Object(i.a)({},e);return t.completed||(t.completed=!0),t}))},n.addNewTodo=function(e){n.state.isCompletedSelected?n.todosBackUp=[].concat(Object(s.a)(n.todosBackUp),[e]):n.setState((function(t){return{todos:[].concat(Object(s.a)(t.todos),[e])}}),(function(){return n.backupTodos()}))},n.handleCheck=function(e){n.setState((function(t){return{todos:t.todos.map((function(t){var o=Object(i.a)({},t);return t.id===e&&(o.completed=!t.completed),o}))}}),(function(){return n.backupCheck(e)}))},n.handleDelete=function(e){n.setState((function(t){return{todos:t.todos.filter((function(t){return t.id!==e}))}}),(function(){return n.backupTodos()}))},n.toggleAll=function(){n.state.todos.every((function(e){return!0===e.completed}))?n.setState((function(e){return{todos:e.todos.map((function(e){var t=Object(i.a)({},e);return t.completed=!1,t}))}}),(function(){return n.backupToggleAll()})):n.setState((function(e){return{todos:e.todos.map((function(e){var t=Object(i.a)({},e);return t.completed||(t.completed=!0),t}))}}),(function(){return n.backupToggle()}))},n.clearCompleted=function(){n.state.isCompletedSelected?n.setState((function(e){return{todos:e.todos.filter((function(e){return!e.completed}))}}),(function(){n.todosBackUp=n.todosBackUp.filter((function(e){return!e.completed}))})):n.setState((function(e){return{todos:e.todos.filter((function(e){return!e.completed}))}}),(function(){return n.backupTodos()}))},n.handleFilter=function(e,t){"Active"===t.target.innerHTML?n.setState({todos:n.todosBackUp.filter(e),isAllSelected:!1,isActiveSelected:!0,isCompletedSelected:!1}):"Completed"===t.target.innerHTML&&n.setState({todos:n.todosBackUp.filter(e),isAllSelected:!1,isActiveSelected:!1,isCompletedSelected:!0})},n.handleFilterAll=function(){n.setState({todos:Object(s.a)(n.todosBackUp),isAllSelected:!0,isActiveSelected:!1,isCompletedSelected:!1})},n.saveEditedTodo=function(e){n.setState((function(t){return{todos:t.todos.map((function(t){var o=Object(i.a)({},t);return o.id===e.id&&(o=Object(i.a)({},e)),o}))}}),(function(){return n.backupTodos()}))},n.todosBackUp=[],n.state={todos:[],isAllSelected:!0,isActiveSelected:!1,isCompletedSelected:!1},n}return Object(r.a)(o,[{key:"componentDidMount",value:function(){var e=null!==localStorage.getItem("state")?JSON.parse(localStorage.getItem("state")).todos:[];this.todosBackUp=e,this.setState({todos:e})}},{key:"componentDidUpdate",value:function(){if(this.state.isCompletedSelected){var e={todos:Object(s.a)(this.todosBackUp),isAllSelected:this.state.isAllSelected,isActiveSelected:this.state.isActiveSelected,isCompletedSelected:this.state.isCompletedSelected};localStorage.setItem("state",JSON.stringify(e))}else localStorage.setItem("state",JSON.stringify(this.state))}},{key:"render",value:function(){return a.a.createElement("section",{className:"todoapp"},a.a.createElement("header",{className:"header"},a.a.createElement("h1",null,"todos"),a.a.createElement(S,{addNewTodo:this.addNewTodo})),a.a.createElement("section",{className:"main"},a.a.createElement("input",{type:"checkbox",id:"toggle-all",className:"toggle-all",onChange:this.toggleAll}),a.a.createElement("label",{htmlFor:"toggle-all"},"Mark all as complete"),a.a.createElement(b,{todos:this.state.todos,handleCheck:this.handleCheck,handleDelete:this.handleDelete,saveEditedTodo:this.saveEditedTodo})),a.a.createElement("footer",{className:"footer"},a.a.createElement(E,{todoLength:this.state.isCompletedSelected?this.todosBackUp.filter((function(e){return!e.completed})).length||0:this.state.todos.filter((function(e){return!e.completed})).length||0}),a.a.createElement(C,{handleFilter:this.handleFilter,handleFilterAll:this.handleFilterAll,isAllSelected:this.state.isAllSelected,isActiveSelected:this.state.isActiveSelected,isCompletedSelected:this.state.isCompletedSelected}),a.a.createElement("button",{type:"button",className:"clear-completed",onClick:this.clearCompleted},"Clear completed")))}}]),o}(a.a.Component);c.a.render(a.a.createElement(y,null),document.getElementById("root"))}},[[12,1,2]]]);
//# sourceMappingURL=main.627d47b4.chunk.js.map