(this["webpackJsonpreact_todo-app"]=this["webpackJsonpreact_todo-app"]||[]).push([[0],{12:function(e,t,a){e.exports=a(22)},17:function(e,t,a){},18:function(e,t,a){},22:function(e,t,a){"use strict";a.r(t);var l=a(0),n=a.n(l),o=a(10),i=a.n(o),s=(a(17),a(18),a(5)),c=a(8),r=a(1),d=a(2),u=a(4),m=a(3),p=a(7),f=a.n(p),h=a(6),S=a.n(h),g=(S.a.shape({id:S.a.string.isRequired,title:S.a.string.isRequired,completed:S.a.bool.isRequired}),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(r.a)(this,a);for(var l=arguments.length,n=new Array(l),o=0;o<l;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).state={todoTitle:"",isTitleValid:!0,isEditing:!1},e.handleDoubleClick=function(t){e.setState((function(e){return{isEditing:!e.isEditing,todoTitle:t}}))},e.handleChange=function(t){e.setState({todoTitle:t.target.value.replace(/[^\s\w]/g,""),isTitleValid:!0})},e.handleKeyPress=function(t,a){if("Enter"===t.key){t.preventDefault();var l=e.props.saveEditedTodo;0===e.state.todoTitle.replace(/\s+/g,"").length&&e.setState({isTitleValid:!1}),e.state.isTitleValid&&(l({id:a,title:e.state.todoTitle,completed:!1}),e.setState({todoTitle:"",isEditing:!1}))}},e}return Object(d.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.todo,l=t.onCheck,o=t.onDelete;return n.a.createElement("li",{className:f()({completed:a.completed},{editing:this.state.isEditing})},n.a.createElement("div",{className:"view"},n.a.createElement("input",{type:"checkbox",className:"toggle",id:a.id,checked:a.completed,onChange:function(){return l(a.id)}}),n.a.createElement("label",{onDoubleClick:function(){return e.handleDoubleClick(a.title)}},a.title),n.a.createElement("button",{type:"button",className:"destroy",onClick:function(){return o(a.id)}})),this.state.isEditing?n.a.createElement("input",{type:"text",value:this.state.todoTitle,className:f()({edit:this.state.isEditing}),onChange:function(t){return e.handleChange(t)},onKeyPress:function(t){return e.handleKeyPress(t,a.id)}}):n.a.createElement("span",null))}}]),a}(n.a.Component)),v=function(e){var t=e.todos,a=e.handleCheck,l=e.handleDelete,o=e.saveEditedTodo;return n.a.createElement("ul",{className:"todo-list"},t.map((function(e){return n.a.createElement(g,{key:e.id,todo:e,onCheck:a,onDelete:l,saveEditedTodo:o})})))};v.defaultProps={todos:[]};var E=a(11),C=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(r.a)(this,a);for(var l=arguments.length,n=new Array(l),o=0;o<l;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).state={todoTitle:"",isTitleValid:!0},e.handleChange=function(t){e.setState({todoTitle:t.target.value.replace(/[^\s\w]/g,""),isTitleValid:!0})},e.handleKeyPress=function(t){if("Enter"===t.key){t.preventDefault();var a=e.props.addNewTodo,l=Object(E.uuid)();0===e.state.todoTitle.replace(/\s+/g,"").length&&e.setState({isTitleValid:!1}),e.state.isTitleValid&&(a({id:l,title:e.state.todoTitle,completed:!1}),e.setState({todoTitle:""}))}},e}return Object(d.a)(a,[{key:"render",value:function(){var e=this;return n.a.createElement("input",{type:"text",className:"new-todo",placeholder:"What needs to be done?",value:this.state.todoTitle,onChange:function(t){return e.handleChange(t)},onKeyPress:function(t){return e.handleKeyPress(t)}})}}]),a}(n.a.Component),b=function(e){var t=e.todoLength;return n.a.createElement("span",{className:"todo-count"},"".concat(t," ").concat(1===t?"item":"items"," left"))},y=function(e){var t=e.handleFilter,a=e.handleFilterAll,l=e.isAllSelected,o=e.isActiveSelected,i=e.isCompletedSelected;return n.a.createElement("ul",{className:"filters"},n.a.createElement("li",null,n.a.createElement("button",{type:"button",className:l?"selected":"",onClick:a},"All")),n.a.createElement("li",null,n.a.createElement("button",{type:"button",className:o?"selected":"",onClick:function(e){return t((function(e){return!e.completed}),e)}},"Active")),n.a.createElement("li",null,n.a.createElement("button",{type:"button",className:i?"selected":"",onClick:function(e){return t((function(e){return e.completed}),e)}},"Completed")))},N=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(r.a)(this,a);for(var l=arguments.length,n=new Array(l),o=0;o<l;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).state={todos:[],isAllSelected:!0,isActiveSelected:!1,isCompletedSelected:!1},e.addNewTodo=function(t){var a={todos:[].concat(Object(c.a)(JSON.parse(localStorage.getItem("state")).todos),[t]),isAllSelected:e.state.isAllSelected,isActiveSelected:e.state.isActiveSelected,isCompletedSelected:e.state.isCompletedSelected};e.state.isCompletedSelected?localStorage.setItem("state",JSON.stringify(a)):e.setState((function(e){return{todos:[].concat(Object(c.a)(e.todos),[t])}}),(function(){return localStorage.setItem("state",JSON.stringify(e.state))}))},e.handleCheck=function(t){e.setState((function(e){return{todos:e.todos.map((function(e){var a=Object(s.a)({},e);return e.id===t&&(a.completed=!e.completed),a}))}}),(function(){return localStorage.setItem("state",JSON.stringify(e.state))}))},e.handleDelete=function(t){e.setState((function(e){return{todos:e.todos.filter((function(e){return e.id!==t}))}}),(function(){return localStorage.setItem("state",JSON.stringify(e.state))}))},e.toggleAll=function(){e.state.todos.every((function(e){return!0===e.completed}))?e.setState((function(e){return{todos:e.todos.map((function(e){var t=Object(s.a)({},e);return t.completed=!1,t}))}}),(function(){return localStorage.setItem("state",JSON.stringify(e.state))})):e.setState((function(e){return{todos:e.todos.map((function(e){var t=Object(s.a)({},e);return t.completed||(t.completed=!0),t}))}}),(function(){return localStorage.setItem("state",JSON.stringify(e.state))}))},e.clearCompleted=function(){var t={todos:JSON.parse(localStorage.getItem("state")).todos.filter((function(e){return!e.completed})),isAllSelected:e.state.isAllSelected,isActiveSelected:e.state.isActiveSelected,isCompletedSelected:e.state.isCompletedSelected};e.setState({todos:[]},(function(){return localStorage.setItem("state",JSON.stringify(t))}))},e.handleFilter=function(t,a){"Active"===a.target.innerHTML?e.setState({todos:JSON.parse(localStorage.getItem("state")).todos.filter(t),isAllSelected:!1,isActiveSelected:!0,isCompletedSelected:!1}):"Completed"===a.target.innerHTML&&e.setState({todos:JSON.parse(localStorage.getItem("state")).todos.filter(t),isAllSelected:!1,isActiveSelected:!1,isCompletedSelected:!0})},e.handleFilterAll=function(){e.setState({todos:JSON.parse(localStorage.getItem("state")).todos,isAllSelected:!0,isActiveSelected:!1,isCompletedSelected:!1})},e.saveEditedTodo=function(t){e.setState((function(e){return{todos:e.todos.map((function(e){var a=Object(s.a)({},e);return a.id===t.id&&(a=Object(s.a)({},t)),a}))}}),(function(){return localStorage.setItem("state",JSON.stringify(e.state))}))},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=null!==localStorage.getItem("state")?JSON.parse(localStorage.getItem("state")).todos:[];this.setState({todos:e})}},{key:"render",value:function(){return n.a.createElement("section",{className:"todoapp"},n.a.createElement("header",{className:"header"},n.a.createElement("h1",null,"todos"),n.a.createElement(C,{addNewTodo:this.addNewTodo})),n.a.createElement("section",{className:"main"},n.a.createElement("input",{type:"checkbox",id:"toggle-all",className:"toggle-all",onChange:this.toggleAll}),n.a.createElement("label",{htmlFor:"toggle-all"},"Mark all as complete"),n.a.createElement(v,{todos:this.state.todos,handleCheck:this.handleCheck,handleDelete:this.handleDelete,saveEditedTodo:this.saveEditedTodo})),n.a.createElement("footer",{className:"footer"},n.a.createElement(b,{todoLength:this.state.todos?JSON.parse(localStorage.getItem("state")).todos.filter((function(e){return!e.completed})).length:0}),n.a.createElement(y,{handleFilter:this.handleFilter,handleFilterAll:this.handleFilterAll,isAllSelected:this.state.isAllSelected,isActiveSelected:this.state.isActiveSelected,isCompletedSelected:this.state.isCompletedSelected}),n.a.createElement("button",{type:"button",className:"clear-completed",onClick:this.clearCompleted},"Clear completed")))}}]),a}(n.a.Component);i.a.render(n.a.createElement(N,null),document.getElementById("root"))}},[[12,1,2]]]);
//# sourceMappingURL=main.72ed0e59.chunk.js.map